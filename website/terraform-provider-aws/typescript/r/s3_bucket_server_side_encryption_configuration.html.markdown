---
subcategory: "S3 (Simple Storage)"
layout: "aws"
page_title: "AWS: aws_s3_bucket_server_side_encryption_configuration"
description: |-
  Provides a S3 bucket server-side encryption configuration resource.
---

# Resource: aws\_s3\_bucket\_server\_side\_encryption\_configuration

Provides a S3 bucket server-side encryption configuration resource.

## Example Usage

```typescript
/*Provider bindings are generated by running cdktf get.
See https://cdk.tf/provider-generation for more details.*/
import * as aws from "./.gen/providers/aws";
const awsKmsKeyMykey = new aws.kmsKey.KmsKey(this, "mykey", {
  deletionWindowInDays: 10,
  description: "This key is used to encrypt bucket objects",
});
const awsS3BucketMybucket = new aws.s3Bucket.S3Bucket(this, "mybucket", {
  bucket: "mybucket",
});
new aws.s3BucketServerSideEncryptionConfiguration.S3BucketServerSideEncryptionConfigurationA(
  this,
  "example",
  {
    bucket: awsS3BucketMybucket.bucket,
    rule: [
      {
        applyServerSideEncryptionByDefault: {
          kmsMasterKeyId: awsKmsKeyMykey.arn,
          sseAlgorithm: "aws:kms",
        },
      },
    ],
  }
);

```

## Argument Reference

The following arguments are supported:

* `bucket` - (Required, Forces new resource) The name of the bucket.
* `expectedBucketOwner` - (Optional, Forces new resource) The account ID of the expected bucket owner.
* `rule` - (Required) Set of server-side encryption configuration rules. [documented below](#rule). Currently, only a single rule is supported.

### rule

The `rule` configuration block supports the following arguments:

* `applyServerSideEncryptionByDefault` - (Optional) A single object for setting server-side encryption by default [documented below](#apply_server_side_encryption_by_default)
* `bucketKeyEnabled` - (Optional) Whether or not to use [Amazon S3 Bucket Keys](https://docs.aws.amazon.com/AmazonS3/latest/dev/bucket-key.html) for SSE-KMS.

### apply\_server\_side\_encryption\_by\_default

The `applyServerSideEncryptionByDefault` configuration block supports the following arguments:

* `sseAlgorithm` - (Required) The server-side encryption algorithm to use. Valid values are `aes256` and `aws:kms`
* `kmsMasterKeyId` - (Optional) The AWS KMS master key ID used for the SSE-KMS encryption. This can only be used when you set the value of `sseAlgorithm` as `aws:kms`. The default `aws/s3` AWS KMS master key is used if this element is absent while the `sseAlgorithm` is `aws:kms`.

## Attributes Reference

In addition to all arguments above, the following attributes are exported:

* `id` - The `bucket` or `bucket` and `expectedBucketOwner` separated by a comma (`,`) if the latter is provided.

## Import

S3 bucket server-side encryption configuration can be imported in one of two ways.

If the owner (account ID) of the source bucket is the same account used to configure the Terraform AWS Provider,
the S3 server-side encryption configuration resource should be imported using the `bucket` e.g.,

```console
$ terraform import aws_s3_bucket_server_side_encryption_configuration.example bucket-name
```

If the owner (account ID) of the source bucket differs from the account used to configure the Terraform AWS Provider,
the S3 bucket server-side encryption configuration resource should be imported using the `bucket` and `expectedBucketOwner` separated by a comma (`,`) e.g.,

```console
$ terraform import aws_s3_bucket_server_side_encryption_configuration.example bucket-name,123456789012
```
